module.exports = [
"[externals]/next/dist/compiled/next-server/app-route-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-route-turbo.runtime.dev.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-route-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-route-turbo.runtime.dev.js"));

module.exports = mod;
}),
"[externals]/next/dist/compiled/@opentelemetry/api [external] (next/dist/compiled/@opentelemetry/api, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/@opentelemetry/api", () => require("next/dist/compiled/@opentelemetry/api"));

module.exports = mod;
}),
"[externals]/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-page-turbo.runtime.dev.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/work-unit-async-storage.external.js [external] (next/dist/server/app-render/work-unit-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-unit-async-storage.external.js", () => require("next/dist/server/app-render/work-unit-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/work-async-storage.external.js [external] (next/dist/server/app-render/work-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/work-async-storage.external.js", () => require("next/dist/server/app-render/work-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/next/dist/shared/lib/no-fallback-error.external.js [external] (next/dist/shared/lib/no-fallback-error.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/shared/lib/no-fallback-error.external.js", () => require("next/dist/shared/lib/no-fallback-error.external.js"));

module.exports = mod;
}),
"[externals]/util [external] (util, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("util", () => require("util"));

module.exports = mod;
}),
"[externals]/url [external] (url, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("url", () => require("url"));

module.exports = mod;
}),
"[externals]/http [external] (http, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("http", () => require("http"));

module.exports = mod;
}),
"[externals]/crypto [external] (crypto, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("crypto", () => require("crypto"));

module.exports = mod;
}),
"[externals]/assert [external] (assert, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("assert", () => require("assert"));

module.exports = mod;
}),
"[externals]/querystring [external] (querystring, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("querystring", () => require("querystring"));

module.exports = mod;
}),
"[externals]/buffer [external] (buffer, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("buffer", () => require("buffer"));

module.exports = mod;
}),
"[externals]/zlib [external] (zlib, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("zlib", () => require("zlib"));

module.exports = mod;
}),
"[externals]/https [external] (https, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("https", () => require("https"));

module.exports = mod;
}),
"[externals]/events [external] (events, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("events", () => require("events"));

module.exports = mod;
}),
"[externals]/next/dist/server/app-render/after-task-async-storage.external.js [external] (next/dist/server/app-render/after-task-async-storage.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/server/app-render/after-task-async-storage.external.js", () => require("next/dist/server/app-render/after-task-async-storage.external.js"));

module.exports = mod;
}),
"[externals]/fs [external] (fs, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("fs", () => require("fs"));

module.exports = mod;
}),
"[externals]/stream [external] (stream, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("stream", () => require("stream"));

module.exports = mod;
}),
"[externals]/net [external] (net, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("net", () => require("net"));

module.exports = mod;
}),
"[externals]/dns [external] (dns, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("dns", () => require("dns"));

module.exports = mod;
}),
"[externals]/os [external] (os, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("os", () => require("os"));

module.exports = mod;
}),
"[externals]/path [external] (path, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("path", () => require("path"));

module.exports = mod;
}),
"[externals]/tls [external] (tls, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("tls", () => require("tls"));

module.exports = mod;
}),
"[externals]/child_process [external] (child_process, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("child_process", () => require("child_process"));

module.exports = mod;
}),
"[project]/lib/prisma.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "prisma",
    ()=>prisma
]);
var __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2c$__cjs$2c$__$5b$project$5d2f$node_modules$2f40$prisma$2f$client$29$__ = __turbopack_context__.i("[externals]/@prisma/client [external] (@prisma/client, cjs, [project]/node_modules/@prisma/client)");
;
if (!process.env.DATABASE_URL) {
    throw new Error("DATABASE_URL is not set. Configure a Postgres connection string.");
}
const globalForPrisma = /*TURBOPACK member replacement*/ __turbopack_context__.g;
const prisma = globalForPrisma.prisma ?? new __TURBOPACK__imported__module__$5b$externals$5d2f40$prisma$2f$client__$5b$external$5d$__$2840$prisma$2f$client$2c$__cjs$2c$__$5b$project$5d2f$node_modules$2f40$prisma$2f$client$29$__["PrismaClient"]({
    log: ("TURBOPACK compile-time truthy", 1) ? [
        "error"
    ] : "TURBOPACK unreachable"
});
if ("TURBOPACK compile-time truthy", 1) {
    globalForPrisma.prisma = prisma;
}
}),
"[project]/lib/brand.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "brand",
    ()=>brand
]);
const brand = {
    name: "Lucien",
    wordmark: "LUCIEN",
    domain: "lucien.technology",
    email: "company@lucien.technology",
    governingLaw: "Jurisdiction TBD",
    colors: {
        nearBlack: "#0F0F10",
        softWhite: "#FAFAFA"
    }
};
}),
"[project]/lib/audit.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "logAuditEvent",
    ()=>logAuditEvent
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/lib/prisma.ts [app-route] (ecmascript)");
;
async function logAuditEvent({ orgId, action, resourceType, resourceId, userId, meta, ip, userAgent }) {
    try {
        await __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].auditEvent.create({
            data: {
                orgId,
                action,
                resourceType,
                resourceId: resourceId ?? null,
                userId: userId ?? null,
                metaJson: meta ? JSON.stringify(meta) : null,
                ip: ip ?? null,
                userAgent: userAgent ?? null
            }
        });
    } catch (error) {
        console.error("AuditEventFailed", error);
    }
}
}),
"[project]/lib/org.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "getDomainFromEmail",
    ()=>getDomainFromEmail,
    "getOrCreateOrg",
    ()=>getOrCreateOrg
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/lib/prisma.ts [app-route] (ecmascript)");
;
function getDomainFromEmail(email) {
    const [, domain] = email.toLowerCase().split("@");
    return domain ?? null;
}
async function getOrCreateOrg({ name, domain }) {
    if (domain) {
        const existing = await __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].org.findFirst({
            where: {
                domain
            }
        });
        if (existing) {
            return existing;
        }
    }
    const existingByName = await __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].org.findUnique({
        where: {
            name
        }
    });
    if (existingByName) {
        if (!existingByName.domain && domain) {
            return __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].org.update({
                where: {
                    id: existingByName.id
                },
                data: {
                    domain
                }
            });
        }
        return existingByName;
    }
    return __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].org.create({
        data: {
            name,
            domain: domain ?? undefined
        }
    });
}
}),
"[project]/lib/auth-helpers.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "getDevLoginEmails",
    ()=>getDevLoginEmails
]);
function getDevLoginEmails() {
    if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
    ;
    const fallback = process.env.DEV_LOGIN_EMAIL || process.env.ADMIN_EMAIL || "admin@lucien.technology";
    return fallback.split(",").map((email)=>email.trim().toLowerCase()).filter(Boolean);
}
}),
"[project]/lib/auth.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "authOptions",
    ()=>authOptions,
    "getServerAuthSession",
    ()=>getServerAuthSession
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$auth$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next-auth/index.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$auth$2f$providers$2f$email$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next-auth/providers/email.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$auth$2f$providers$2f$credentials$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next-auth/providers/credentials.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$auth$2f$prisma$2d$adapter$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@auth/prisma-adapter/index.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$nodemailer$2f$lib$2f$nodemailer$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/nodemailer/lib/nodemailer.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/lib/prisma.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$brand$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/lib/brand.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$audit$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/lib/audit.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$org$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/lib/org.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$auth$2d$helpers$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/lib/auth-helpers.ts [app-route] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
const devLoginEmails = (0, __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$auth$2d$helpers$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getDevLoginEmails"])();
if ("TURBOPACK compile-time truthy", 1) {
    if (!process.env.NEXTAUTH_URL) {
        process.env.NEXTAUTH_URL = "http://localhost:3000";
    }
    if (!process.env.NEXTAUTH_SECRET) {
        process.env.NEXTAUTH_SECRET = "dev-secret-change-me";
    }
}
async function sendMagicLink(params) {
    const { identifier, url, provider } = params;
    if (!provider.server) {
        if ("TURBOPACK compile-time truthy", 1) {
            console.info("DevMagicLink", {
                email: identifier,
                url
            });
            return;
        }
        //TURBOPACK unreachable
        ;
    }
    const transport = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$nodemailer$2f$lib$2f$nodemailer$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["createTransport"])(provider.server);
    const fromAddress = provider.from ?? __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$brand$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["brand"].email;
    await transport.sendMail({
        to: identifier,
        from: fromAddress,
        subject: `Sign in to ${__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$brand$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["brand"].wordmark}`,
        text: `Use this link to sign in: ${url}`,
        html: `<p>Use this link to sign in:</p><p><a href="${url}">${url}</a></p>`
    });
}
const adapter = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$auth$2f$prisma$2d$adapter$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["PrismaAdapter"])(__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"]);
adapter.createUser = async (data)=>{
    const email = data.email.toLowerCase();
    const domain = (0, __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$org$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getDomainFromEmail"])(email);
    const isLucien = email.includes("lucien");
    const orgName = isLucien ? "Lucien Internal" : domain ?? "Client Workspace";
    const org = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$org$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getOrCreateOrg"])({
        name: orgName,
        domain
    });
    const role = isLucien && (email.startsWith("ops@") || email.startsWith("operator@")) ? "lucien_operator" : isLucien ? "lucien_admin" : "org_user";
    return __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].user.create({
        data: {
            email,
            name: data.name,
            emailVerified: data.emailVerified,
            role,
            orgId: org.id
        }
    });
};
const authOptions = {
    adapter,
    secret: process.env.NEXTAUTH_SECRET,
    pages: {
        signIn: "/login"
    },
    session: {
        strategy: "jwt"
    },
    providers: [
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$auth$2f$providers$2f$email$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"])({
            server: process.env.EMAIL_SERVER,
            from: process.env.EMAIL_FROM ?? __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$brand$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["brand"].email,
            sendVerificationRequest: sendMagicLink
        }),
        ...("TURBOPACK compile-time value", "development") === "development" && devLoginEmails.length > 0 ? [
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$auth$2f$providers$2f$credentials$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"])({
                id: "dev-login",
                name: "Dev Login",
                credentials: {
                    email: {
                        label: "Email",
                        type: "text"
                    }
                },
                async authorize (credentials) {
                    const email = credentials?.email?.toLowerCase();
                    if (!email || !devLoginEmails.includes(email)) {
                        return null;
                    }
                    const domain = (0, __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$org$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getDomainFromEmail"])(email);
                    const isLucien = email.includes("lucien");
                    const orgName = isLucien ? "Lucien Internal" : "Client Workspace";
                    const org = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$org$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getOrCreateOrg"])({
                        name: orgName,
                        domain
                    });
                    const role = isLucien ? email.startsWith("ops@") || email.startsWith("operator@") ? "lucien_operator" : "lucien_admin" : email.startsWith("admin@") ? "org_admin" : "org_user";
                    const user = await __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].user.upsert({
                        where: {
                            email
                        },
                        update: {
                            role,
                            orgId: org.id,
                            lastLoginAt: new Date()
                        },
                        create: {
                            email,
                            role,
                            orgId: org.id,
                            name: email.split("@")[0],
                            lastLoginAt: new Date()
                        }
                    });
                    await (0, __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$audit$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["logAuditEvent"])({
                        orgId: org.id,
                        userId: user.id,
                        action: "login",
                        resourceType: "user",
                        resourceId: user.id,
                        meta: {
                            source: "dev-login"
                        }
                    });
                    return user;
                }
            })
        ] : []
    ],
    callbacks: {
        async session ({ session, token, user }) {
            if (session.user) {
                session.user.id = user?.id ?? token.sub;
                session.user.role = user?.role ?? token.role;
                session.user.orgId = user?.orgId ?? token.orgId;
            }
            return session;
        },
        async jwt ({ token, user }) {
            if (user) {
                token.role = user.role;
                token.orgId = user.orgId;
            }
            return token;
        }
    },
    events: {
        async signIn ({ user }) {
            if (!user?.id || !user.orgId) {
                return;
            }
            await __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$prisma$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["prisma"].user.update({
                where: {
                    id: user.id
                },
                data: {
                    lastLoginAt: new Date()
                }
            });
            await (0, __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$audit$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["logAuditEvent"])({
                orgId: user.orgId,
                userId: user.id,
                action: "login",
                resourceType: "user",
                resourceId: user.id,
                meta: {
                    source: "email"
                }
            });
        },
        async signOut ({ session }) {
            const userId = session?.user?.id;
            const orgId = session?.user?.orgId;
            if (!userId || !orgId) {
                return;
            }
            await (0, __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$audit$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["logAuditEvent"])({
                orgId,
                userId,
                action: "logout",
                resourceType: "user",
                resourceId: userId
            });
        }
    }
};
function getServerAuthSession() {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$auth$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["getServerSession"])(authOptions);
}
}),
"[project]/lib/rateLimit.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "getClientIp",
    ()=>getClientIp,
    "rateLimit",
    ()=>rateLimit
]);
const rateLimitStore = new Map();
function getClientIp(request) {
    const forwarded = request.headers.get("x-forwarded-for");
    const realIp = request.headers.get("x-real-ip");
    const cfIp = request.headers.get("cf-connecting-ip");
    return (forwarded || realIp || cfIp || "unknown").split(",")[0]?.trim();
}
function rateLimit(key, options) {
    const now = Date.now();
    const bucket = rateLimitStore.get(key);
    if (!bucket || bucket.resetAt < now) {
        const resetAt = now + options.windowMs;
        rateLimitStore.set(key, {
            count: 1,
            resetAt
        });
        return {
            allowed: true,
            remaining: options.max - 1,
            resetAt
        };
    }
    if (bucket.count >= options.max) {
        return {
            allowed: false,
            remaining: 0,
            resetAt: bucket.resetAt
        };
    }
    bucket.count += 1;
    rateLimitStore.set(key, bucket);
    return {
        allowed: true,
        remaining: options.max - bucket.count,
        resetAt: bucket.resetAt
    };
}
}),
"[project]/app/api/auth/[...nextauth]/route.ts [app-route] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "GET",
    ()=>GET,
    "POST",
    ()=>POST
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$auth$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next-auth/index.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/server.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$auth$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/lib/auth.ts [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$rateLimit$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/lib/rateLimit.ts [app-route] (ecmascript)");
;
;
;
;
const authRateLimit = {
    windowMs: 10 * 60 * 1000,
    max: 20
};
const handler = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2d$auth$2f$index$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["default"])(__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$auth$2e$ts__$5b$app$2d$route$5d$__$28$ecmascript$29$__["authOptions"]);
async function enforceRateLimit(request) {
    if ("TURBOPACK compile-time truthy", 1) {
        return null;
    }
    //TURBOPACK unreachable
    ;
    const clientIp = undefined;
    const result = undefined;
}
async function GET(request, context) {
    const limited = await enforceRateLimit(request);
    if (limited) {
        return limited;
    }
    return handler(request, context);
}
async function POST(request, context) {
    const limited = await enforceRateLimit(request);
    if (limited) {
        return limited;
    }
    return handler(request, context);
}
}),
];

//# sourceMappingURL=%5Broot-of-the-server%5D__daeeb296._.js.map