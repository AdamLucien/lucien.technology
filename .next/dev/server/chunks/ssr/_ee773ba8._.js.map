{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/adamkarllucien/Lucien_technology/lucien.technology/lib/format.ts"],"sourcesContent":["export function formatDateShort(date: Date) {\n  return new Intl.DateTimeFormat(\"en-GB\", {\n    year: \"numeric\",\n    month: \"short\",\n    day: \"2-digit\",\n  }).format(date);\n}\n\nexport function formatBytes(bytes: number) {\n  if (bytes < 1024) {\n    return `${bytes} B`;\n  }\n  const units = [\"KB\", \"MB\", \"GB\"];\n  let size = bytes / 1024;\n  let unitIndex = 0;\n  while (size >= 1024 && unitIndex < units.length - 1) {\n    size /= 1024;\n    unitIndex += 1;\n  }\n  return `${size.toFixed(size >= 10 ? 0 : 1)} ${units[unitIndex]}`;\n}\n"],"names":[],"mappings":";;;;;;AAAO,SAAS,gBAAgB,IAAU;IACxC,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACtC,MAAM;QACN,OAAO;QACP,KAAK;IACP,GAAG,MAAM,CAAC;AACZ;AAEO,SAAS,YAAY,KAAa;IACvC,IAAI,QAAQ,MAAM;QAChB,OAAO,GAAG,MAAM,EAAE,CAAC;IACrB;IACA,MAAM,QAAQ;QAAC;QAAM;QAAM;KAAK;IAChC,IAAI,OAAO,QAAQ;IACnB,IAAI,YAAY;IAChB,MAAO,QAAQ,QAAQ,YAAY,MAAM,MAAM,GAAG,EAAG;QACnD,QAAQ;QACR,aAAa;IACf;IACA,OAAO,GAAG,KAAK,OAAO,CAAC,QAAQ,KAAK,IAAI,GAAG,CAAC,EAAE,KAAK,CAAC,UAAU,EAAE;AAClE"}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///Users/adamkarllucien/Lucien_technology/lucien.technology/lib/notifications.ts"],"sourcesContent":["import type { UserRole } from \"@prisma/client\";\nimport { prisma } from \"@/lib/prisma\";\n\ntype NotificationPayload = {\n  orgId: string;\n  recipientUserId?: string;\n  recipientRoles?: UserRole[];\n  recipientOrgId?: string;\n  type: string;\n  title: string;\n  body: string;\n  entityType?: string;\n  entityId?: string;\n};\n\nexport async function createNotifications({\n  orgId,\n  recipientUserId,\n  recipientRoles,\n  recipientOrgId,\n  type,\n  title,\n  body,\n  entityType,\n  entityId,\n}: NotificationPayload) {\n  if (recipientUserId) {\n    await prisma.notification.create({\n      data: {\n        orgId,\n        recipientUserId,\n        type,\n        title,\n        body,\n        entityType,\n        entityId,\n      },\n    });\n    return;\n  }\n\n  if (!recipientRoles || recipientRoles.length === 0) {\n    return;\n  }\n\n  const users = await prisma.user.findMany({\n    where: {\n      role: { in: recipientRoles },\n      ...(recipientOrgId ? { orgId: recipientOrgId } : {}),\n    },\n    select: { id: true },\n  });\n\n  if (users.length === 0) {\n    return;\n  }\n\n  await prisma.notification.createMany({\n    data: users.map((user) => ({\n      orgId,\n      recipientUserId: user.id,\n      type,\n      title,\n      body,\n      entityType,\n      entityId,\n    })),\n  });\n}\n"],"names":[],"mappings":";;;;AACA;;AAcO,eAAe,oBAAoB,EACxC,KAAK,EACL,eAAe,EACf,cAAc,EACd,cAAc,EACd,IAAI,EACJ,KAAK,EACL,IAAI,EACJ,UAAU,EACV,QAAQ,EACY;IACpB,IAAI,iBAAiB;QACnB,MAAM,uHAAM,CAAC,YAAY,CAAC,MAAM,CAAC;YAC/B,MAAM;gBACJ;gBACA;gBACA;gBACA;gBACA;gBACA;gBACA;YACF;QACF;QACA;IACF;IAEA,IAAI,CAAC,kBAAkB,eAAe,MAAM,KAAK,GAAG;QAClD;IACF;IAEA,MAAM,QAAQ,MAAM,uHAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACvC,OAAO;YACL,MAAM;gBAAE,IAAI;YAAe;YAC3B,GAAI,iBAAiB;gBAAE,OAAO;YAAe,IAAI,CAAC,CAAC;QACrD;QACA,QAAQ;YAAE,IAAI;QAAK;IACrB;IAEA,IAAI,MAAM,MAAM,KAAK,GAAG;QACtB;IACF;IAEA,MAAM,uHAAM,CAAC,YAAY,CAAC,UAAU,CAAC;QACnC,MAAM,MAAM,GAAG,CAAC,CAAC,OAAS,CAAC;gBACzB;gBACA,iBAAiB,KAAK,EAAE;gBACxB;gBACA;gBACA;gBACA;gBACA;YACF,CAAC;IACH;AACF"}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///Users/adamkarllucien/Lucien_technology/lucien.technology/components/icons/iconMap.ts"],"sourcesContent":["import type { LucideIcon } from \"lucide-react\";\nimport {\n  Activity,\n  AlertTriangle,\n  Aperture,\n  Archive,\n  ArrowUpDown,\n  ArrowUpRight,\n  BadgeCheck,\n  Bell,\n  BookOpen,\n  Boxes,\n  Brain,\n  Building2,\n  CalendarClock,\n  Check,\n  CheckCircle2,\n  ChevronDown,\n  ChevronRight,\n  ClipboardList,\n  ClipboardSignature,\n  Database,\n  Download,\n  DraftingCompass,\n  Euro,\n  Factory,\n  FileDown,\n  FileSearch,\n  FileText,\n  Flame,\n  FolderKanban,\n  Gauge,\n  Gavel,\n  GitPullRequest,\n  Hammer,\n  HelpCircle,\n  History,\n  Home,\n  Inbox,\n  Info,\n  KeyRound,\n  LayoutDashboard,\n  LifeBuoy,\n  ListChecks,\n  Lock,\n  LogIn,\n  LogOut,\n  Mail,\n  MapPin,\n  Menu,\n  Monitor,\n  Network,\n  Package,\n  Pencil,\n  Plug,\n  Receipt,\n  Repeat2,\n  Route,\n  Scale,\n  Search,\n  Settings,\n  Shield,\n  ShieldCheck,\n  ShoppingBag,\n  SlidersHorizontal,\n  Sparkles,\n  Target,\n  Timer,\n  Truck,\n  Unlock,\n  Upload,\n  Users,\n  WalletCards,\n  Wrench,\n  X,\n  XCircle,\n} from \"lucide-react\";\n\nexport const iconMap = {\n  brand: Aperture,\n  home: Home,\n  marketplace: ShoppingBag,\n  how: Route,\n  security: Shield,\n  about: Info,\n  insights: BookOpen,\n  legal: Scale,\n  contact: Mail,\n  requestScope: ClipboardList,\n  login: LogIn,\n  logout: LogOut,\n  external: ArrowUpRight,\n  chevronRight: ChevronRight,\n  chevronDown: ChevronDown,\n  search: Search,\n  filter: SlidersHorizontal,\n  sort: ArrowUpDown,\n  close: X,\n  menu: Menu,\n  ai: Brain,\n  industrial: Factory,\n  itot: Network,\n  risk: AlertTriangle,\n  governance: Gavel,\n  architecture: Boxes,\n  integration: Plug,\n  data: Database,\n  realtime: Timer,\n  observability: Activity,\n  performance: Gauge,\n  delivery: Truck,\n  resilience: LifeBuoy,\n  controls: Lock,\n  compliance: BadgeCheck,\n  audit: FileSearch,\n  design: DraftingCompass,\n  build: Hammer,\n  operate: Wrench,\n  fit: Target,\n  outcomes: Sparkles,\n  deliverables: Package,\n  definitionDone: CheckCircle2,\n  process: ListChecks,\n  inputs: KeyRound,\n  pricing: Euro,\n  duration: CalendarClock,\n  onsite: MapPin,\n  remote: Monitor,\n  hybrid: Repeat2,\n  faq: HelpCircle,\n  dashboard: LayoutDashboard,\n  engagements: FolderKanban,\n  inquiries: Inbox,\n  documents: FileText,\n  scopes: ClipboardSignature,\n  changeRequests: GitPullRequest,\n  billing: Receipt,\n  finance: WalletCards,\n  notifications: Bell,\n  admin: ShieldCheck,\n  users: Users,\n  orgs: Building2,\n  settings: Settings,\n  timeline: History,\n  edit: Pencil,\n  approve: Check,\n  reject: XCircle,\n  archive: Archive,\n  download: Download,\n  upload: Upload,\n  danger: Flame,\n  export: FileDown,\n  locked: Lock,\n  unlocked: Unlock,\n} satisfies Record<string, LucideIcon>;\n\nexport type IconName = keyof typeof iconMap;\n"],"names":[],"mappings":";;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AA6EO,MAAM,UAAU;IACrB,OAAO,sNAAQ;IACf,MAAM,2MAAI;IACV,aAAa,mOAAW;IACxB,KAAK,6MAAK;IACV,UAAU,gNAAM;IAChB,OAAO,0MAAI;IACX,UAAU,0NAAQ;IAClB,OAAO,6MAAK;IACZ,SAAS,0MAAI;IACb,cAAc,yOAAa;IAC3B,OAAO,iNAAK;IACZ,QAAQ,oNAAM;IACd,UAAU,0OAAY;IACtB,cAAc,sOAAY;IAC1B,aAAa,mOAAW;IACxB,QAAQ,gNAAM;IACd,QAAQ,qPAAiB;IACzB,MAAM,uOAAW;IACjB,OAAO,iMAAC;IACR,MAAM,0MAAI;IACV,IAAI,6MAAK;IACT,YAAY,mNAAO;IACnB,MAAM,mNAAO;IACb,MAAM,yOAAa;IACnB,YAAY,6MAAK;IACjB,cAAc,6MAAK;IACnB,aAAa,0MAAI;IACjB,MAAM,sNAAQ;IACd,UAAU,6MAAK;IACf,eAAe,sNAAQ;IACvB,aAAa,6MAAK;IAClB,UAAU,6MAAK;IACf,YAAY,0NAAQ;IACpB,UAAU,0MAAI;IACd,YAAY,gOAAU;IACtB,OAAO,gOAAU;IACjB,QAAQ,+OAAe;IACvB,OAAO,gNAAM;IACb,SAAS,gNAAM;IACf,KAAK,gNAAM;IACX,UAAU,sNAAQ;IAClB,cAAc,mNAAO;IACrB,gBAAgB,qOAAY;IAC5B,SAAS,gOAAU;IACnB,QAAQ,0NAAQ;IAChB,SAAS,0MAAI;IACb,UAAU,yOAAa;IACvB,QAAQ,oNAAM;IACd,QAAQ,mNAAO;IACf,QAAQ,uNAAO;IACf,KAAK,4OAAU;IACf,WAAW,+OAAe;IAC1B,aAAa,sOAAY;IACzB,WAAW,6MAAK;IAChB,WAAW,0NAAQ;IACnB,QAAQ,0PAAkB;IAC1B,gBAAgB,gPAAc;IAC9B,SAAS,mNAAO;IAChB,SAAS,mOAAW;IACpB,eAAe,0MAAI;IACnB,OAAO,mOAAW;IAClB,OAAO,6MAAK;IACZ,MAAM,6NAAS;IACf,UAAU,sNAAQ;IAClB,UAAU,mNAAO;IACjB,MAAM,gNAAM;IACZ,SAAS,6MAAK;IACd,QAAQ,uNAAO;IACf,SAAS,mNAAO;IAChB,UAAU,sNAAQ;IAClB,QAAQ,gNAAM;IACd,QAAQ,6MAAK;IACb,QAAQ,0NAAQ;IAChB,QAAQ,0MAAI;IACZ,UAAU,sNAAM;AAClB"}},
    {"offset": {"line": 254, "column": 0}, "map": {"version":3,"sources":["file:///Users/adamkarllucien/Lucien_technology/lucien.technology/components/icons/IconStatic.tsx"],"sourcesContent":["import type { IconName } from \"@/components/icons/iconMap\";\nimport { iconMap } from \"@/components/icons/iconMap\";\n\nexport type IconBaseProps = {\n  name: IconName;\n  size?: number;\n  strokeWidth?: number;\n  className?: string;\n  title?: string;\n  decorative?: boolean;\n};\n\nexport function IconStatic({\n  name,\n  size = 16,\n  strokeWidth = 1.5,\n  className,\n  title,\n  decorative = true,\n}: IconBaseProps) {\n  const IconComponent = iconMap[name];\n  const ariaLabel = title ?? name;\n\n  return (\n    <span\n      className={`inline-flex shrink-0 items-center justify-center ${className ?? \"\"}`}\n      style={{ width: size, height: size }}\n    >\n      <IconComponent\n        width={size}\n        height={size}\n        strokeWidth={strokeWidth}\n        color=\"currentColor\"\n        aria-hidden={decorative}\n        role={decorative ? undefined : \"img\"}\n        aria-label={decorative ? undefined : ariaLabel}\n        focusable=\"false\"\n        className=\"block\"\n        vectorEffect=\"non-scaling-stroke\"\n      >\n        {title ? <title>{title}</title> : null}\n      </IconComponent>\n    </span>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;;;AAWO,SAAS,WAAW,EACzB,IAAI,EACJ,OAAO,EAAE,EACT,cAAc,GAAG,EACjB,SAAS,EACT,KAAK,EACL,aAAa,IAAI,EACH;IACd,MAAM,gBAAgB,yIAAO,CAAC,KAAK;IACnC,MAAM,YAAY,SAAS;IAE3B,qBACE,8OAAC;QACC,WAAW,CAAC,iDAAiD,EAAE,aAAa,IAAI;QAChF,OAAO;YAAE,OAAO;YAAM,QAAQ;QAAK;kBAEnC,cAAA,8OAAC;YACC,OAAO;YACP,QAAQ;YACR,aAAa;YACb,OAAM;YACN,eAAa;YACb,MAAM,aAAa,YAAY;YAC/B,cAAY,aAAa,YAAY;YACrC,WAAU;YACV,WAAU;YACV,cAAa;sBAEZ,sBAAQ,8OAAC;0BAAO;;;;;uBAAiB;;;;;;;;;;;AAI1C"}},
    {"offset": {"line": 304, "column": 0}, "map": {"version":3,"sources":["file:///Users/adamkarllucien/Lucien_technology/lucien.technology/components/portal/StatusBadge.tsx"],"sourcesContent":["import type { IconName } from \"@/components/icons/iconMap\";\nimport { IconStatic } from \"@/components/icons/IconStatic\";\n\ntype StatusBadgeProps = {\n  label: string;\n  icon?: IconName;\n};\n\nexport function StatusBadge({ label, icon }: StatusBadgeProps) {\n  return (\n    <span className=\"inline-flex items-center rounded-full border border-line/80 bg-ink px-2 py-1 text-[0.6rem] uppercase tracking-[0.2em] text-slate\">\n      {icon && (\n        <IconStatic\n          name={icon}\n          size={12}\n          strokeWidth={1.25}\n          className=\"mr-1 text-slate\"\n        />\n      )}\n      {label}\n    </span>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;;;AAOO,SAAS,YAAY,EAAE,KAAK,EAAE,IAAI,EAAoB;IAC3D,qBACE,8OAAC;QAAK,WAAU;;YACb,sBACC,8OAAC,gJAAU;gBACT,MAAM;gBACN,MAAM;gBACN,aAAa;gBACb,WAAU;;;;;;YAGb;;;;;;;AAGP"}},
    {"offset": {"line": 338, "column": 0}, "map": {"version":3,"sources":["file:///Users/adamkarllucien/Lucien_technology/lucien.technology/app/portal/change-requests/page.tsx"],"sourcesContent":["import Link from \"next/link\";\nimport { redirect } from \"next/navigation\";\nimport { z } from \"zod\";\nimport { prisma } from \"@/lib/prisma\";\nimport { formatDateShort } from \"@/lib/format\";\nimport { getOrgScope, requirePortalSession } from \"@/lib/portal\";\nimport { logAuditEvent } from \"@/lib/audit\";\nimport { createNotifications } from \"@/lib/notifications\";\nimport { StatusBadge } from \"@/components/portal/StatusBadge\";\nimport type { IconName } from \"@/components/icons/iconMap\";\n\nconst statusLabels: Record<string, string> = {\n  proposed: \"Proposed\",\n  needs_info: \"Needs info\",\n  approved: \"Approved\",\n  rejected: \"Rejected\",\n  implemented: \"Implemented\",\n  cancelled: \"Cancelled\",\n};\n\nconst statusIcons: Record<string, IconName | undefined> = {\n  approved: \"approve\",\n  rejected: \"reject\",\n};\n\nexport default async function ChangeRequestsPage({\n  searchParams,\n}: {\n  searchParams: Promise<{\n    title?: string | string[];\n    description?: string | string[];\n    editEventId?: string | string[];\n  }>;\n}) {\n  const resolvedSearchParams = await searchParams;\n  const prefillTitle = Array.isArray(resolvedSearchParams.title)\n    ? resolvedSearchParams.title[0]\n    : resolvedSearchParams.title;\n  const prefillDescription = Array.isArray(resolvedSearchParams.description)\n    ? resolvedSearchParams.description[0]\n    : resolvedSearchParams.description;\n  const editEventId = Array.isArray(resolvedSearchParams.editEventId)\n    ? resolvedSearchParams.editEventId[0]\n    : resolvedSearchParams.editEventId;\n\n  const session = await requirePortalSession();\n  const scope = getOrgScope(session.user.role, session.user.orgId);\n  const isStaff =\n    session.user.role === \"lucien_admin\" ||\n    session.user.role === \"lucien_operator\";\n\n  const [changeRequests, engagements] = await Promise.all([\n    prisma.changeRequest.findMany({\n      where: scope,\n      include: { engagement: true },\n      orderBy: { createdAt: \"desc\" },\n    }),\n    prisma.engagement.findMany({\n      where: scope,\n      orderBy: { updatedAt: \"desc\" },\n      select: { id: true, title: true },\n    }),\n  ]);\n\n  async function createChangeRequest(formData: FormData) {\n    \"use server\";\n\n    const session = await requirePortalSession();\n    const scope = getOrgScope(session.user.role, session.user.orgId);\n    const isStaff =\n      session.user.role === \"lucien_admin\" ||\n      session.user.role === \"lucien_operator\";\n\n    const schema = z.object({\n      engagementId: z.string().min(1),\n      title: z.string().min(3),\n      description: z.string().min(10),\n      impact: z.enum([\"scope\", \"schedule\", \"cost\", \"risk\"]),\n      severity: z.enum([\"low\", \"med\", \"high\"]),\n    });\n\n    const parsed = schema.safeParse({\n      engagementId: formData.get(\"engagementId\"),\n      title: formData.get(\"title\"),\n      description: formData.get(\"description\"),\n      impact: formData.get(\"impact\"),\n      severity: formData.get(\"severity\"),\n    });\n\n    if (!parsed.success) {\n      return;\n    }\n\n    const engagement = await prisma.engagement.findFirst({\n      where: { ...scope, id: parsed.data.engagementId },\n    });\n\n    if (!engagement) {\n      return;\n    }\n\n    const changeRequest = await prisma.changeRequest.create({\n      data: {\n        orgId: engagement.orgId,\n        engagementId: engagement.id,\n        createdByUserId: session.user.id,\n        title: parsed.data.title,\n        description: parsed.data.description,\n        impact: parsed.data.impact,\n        severity: parsed.data.severity,\n        status: \"proposed\",\n        requestedAt: new Date(),\n      },\n    });\n\n    const editEventIdValue = formData.get(\"editEventId\");\n    if (typeof editEventIdValue === \"string\" && editEventIdValue.length > 0) {\n      await prisma.editEvent.updateMany({\n        where: { id: editEventIdValue, orgId: engagement.orgId },\n        data: { linkedChangeRequestId: changeRequest.id },\n      });\n    }\n\n    await logAuditEvent({\n      orgId: engagement.orgId,\n      userId: session.user.id,\n      action: \"change_request_created\",\n      resourceType: \"change_request\",\n      resourceId: changeRequest.id,\n    });\n\n    if (isStaff) {\n      await createNotifications({\n        orgId: engagement.orgId,\n        recipientRoles: [\"org_admin\", \"org_user\"],\n        recipientOrgId: engagement.orgId,\n        type: \"change_request_created\",\n        title: \"Change request created\",\n        body: `Change request submitted: ${changeRequest.title}`,\n        entityType: \"change_request\",\n        entityId: changeRequest.id,\n      });\n    } else {\n      await createNotifications({\n        orgId: engagement.orgId,\n        recipientRoles: [\"lucien_admin\", \"lucien_operator\"],\n        type: \"change_request_created\",\n        title: \"New change request\",\n        body: `Client submitted: ${changeRequest.title}`,\n        entityType: \"change_request\",\n        entityId: changeRequest.id,\n      });\n    }\n\n    redirect(\"/portal/change-requests\");\n  }\n\n  return (\n    <div className=\"space-y-8\">\n      <div className=\"space-y-2\">\n        <p className=\"text-xs uppercase tracking-[0.3em] text-slate\">\n          Change requests\n        </p>\n        <h1 className=\"text-2xl font-semibold text-ash\">Scope changes</h1>\n        <p className=\"text-sm text-muted\">\n          Any changes require a Change Request approval before scope, schedule,\n          or cost adjustments are enacted.\n        </p>\n      </div>\n\n      <form\n        action={createChangeRequest}\n        className=\"rounded-2xl border border-line/80 bg-soft p-6 space-y-4\"\n      >\n        <h2 className=\"text-sm uppercase tracking-[0.2em] text-slate\">\n          Submit a change request\n        </h2>\n        <div className=\"grid gap-4 md:grid-cols-2\">\n          <label className=\"space-y-2 text-sm text-slate\">\n            Engagement\n            <select\n              name=\"engagementId\"\n              required\n              className=\"w-full rounded-xl border border-line bg-ink px-4 py-2 text-ash\"\n            >\n              <option value=\"\">Select an engagement</option>\n              {engagements.map((engagement) => (\n                <option key={engagement.id} value={engagement.id}>\n                  {engagement.title}\n                </option>\n              ))}\n            </select>\n          </label>\n          <label className=\"space-y-2 text-sm text-slate\">\n            Title\n            <input\n              name=\"title\"\n              required\n              minLength={3}\n              className=\"w-full rounded-xl border border-line bg-ink px-4 py-2 text-ash\"\n              placeholder=\"Short summary of the change\"\n              defaultValue={prefillTitle ?? \"\"}\n            />\n          </label>\n        </div>\n        <label className=\"space-y-2 text-sm text-slate\">\n          Description\n          <textarea\n            name=\"description\"\n            required\n            minLength={10}\n            rows={3}\n            className=\"w-full rounded-xl border border-line bg-ink px-4 py-2 text-ash\"\n            placeholder=\"Describe the change, drivers, and constraints.\"\n            defaultValue={prefillDescription ?? \"\"}\n          />\n        </label>\n        {editEventId && (\n          <input type=\"hidden\" name=\"editEventId\" value={editEventId} />\n        )}\n        <div className=\"grid gap-4 md:grid-cols-2\">\n          <label className=\"space-y-2 text-sm text-slate\">\n            Impact\n            <select\n              name=\"impact\"\n              required\n              className=\"w-full rounded-xl border border-line bg-ink px-4 py-2 text-ash\"\n            >\n              <option value=\"scope\">Scope</option>\n              <option value=\"schedule\">Schedule</option>\n              <option value=\"cost\">Cost</option>\n              <option value=\"risk\">Risk</option>\n            </select>\n          </label>\n          <label className=\"space-y-2 text-sm text-slate\">\n            Severity\n            <select\n              name=\"severity\"\n              required\n              className=\"w-full rounded-xl border border-line bg-ink px-4 py-2 text-ash\"\n            >\n              <option value=\"low\">Low</option>\n              <option value=\"med\">Medium</option>\n              <option value=\"high\">High</option>\n            </select>\n          </label>\n        </div>\n        <button\n          type=\"submit\"\n          className=\"btn-animate btn-primary rounded-full px-6 py-2 text-xs uppercase tracking-[0.2em]\"\n        >\n          Submit request\n        </button>\n      </form>\n\n      {changeRequests.length === 0 ? (\n        <div className=\"rounded-2xl border border-line/80 bg-soft p-6 text-sm text-muted\">\n          No change requests submitted yet.\n        </div>\n      ) : (\n        <div className=\"space-y-3\">\n          {changeRequests.map((request) => (\n            <Link\n              key={request.id}\n              href={`/portal/change-requests/${request.id}`}\n              className=\"card-animate flex flex-col gap-3 rounded-2xl border border-line/80 bg-soft p-5 transition hover:border-slate md:flex-row md:items-center md:justify-between\"\n            >\n              <div>\n                <div className=\"text-lg font-semibold text-ash\">\n                  {request.title}\n                </div>\n                <div className=\"text-xs text-slate\">\n                  {request.engagement?.title ?? \"Engagement\"}\n                </div>\n              </div>\n              <div className=\"flex flex-wrap gap-3 text-xs uppercase tracking-[0.2em] text-slate\">\n                <StatusBadge\n                  label={statusLabels[request.status] ?? request.status}\n                  icon={statusIcons[request.status]}\n                />\n                <span className=\"rounded-full border border-line px-3 py-1\">\n                  {request.impact}\n                </span>\n                <span className=\"rounded-full border border-line px-3 py-1\">\n                  {request.severity}\n                </span>\n                <span className=\"rounded-full border border-line px-3 py-1\">\n                  {formatDateShort(request.createdAt)}\n                </span>\n              </div>\n            </Link>\n          ))}\n        </div>\n      )}\n\n      {!isStaff && (\n        <div className=\"rounded-2xl border border-line/80 bg-soft p-6 text-sm text-muted\">\n          For urgent schedule or scope changes, submit a change request and we\n          will confirm next steps within two business days.\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 889, "column": 0}, "map": {"version":3,"sources":["file:///Users/adamkarllucien/Lucien_technology/lucien.technology/.next-internal/server/app/portal/change-requests/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {$$RSC_SERVER_ACTION_0 as '40e52b7a2e82a7b64e64ccab5b4e61b0568b61f224'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}